# Streams

Redis>5.0

## Introduction

Redis allows process to log info inside a stream. In parallel, Redis allows
other processes to read log info from the stream.

## Use cases

- Event sourcing (record user activity, click, pages, mousemove, etc.)
- Sensor monitoring (listening for temperature, weight, position, battery level, etc.)
- User Notifications

## Create a stream

Just log info in the stream:

```
XADD truck:1 * battery_level 99.9 lat 23.4565 long 12.12345 alt 102 driver JLG
XADD truck:2 * battery_level 34.5 lat 23.4234 long 12.56753 alt 102 driver JCD
XADD truck:1 * battery_level 99.9 lat 23.4565 long 12.12345 alt 102 driver JLG
XADD truck:2 * battery_level 34.4 lat 23.4239 long 12.56759 alt 102 driver JCD
```

## Read the entire stream object

```
XRANGE truck:1 - +
```

## Read the entire stream object by bulk

```
XRANGE truck:1 - + COUNT 100
// it returns a list of records with the <id>
// then takes the last id and do:
XRANGE truck:1 (<last-id> + COUNT 100
// repeat until the end.
```

## Read as it publish in real time

```

XREAD BLOCK 0 STREAMS truck:1 $
// and then pick the last id from the response
XREAD BLOCK 0 STREAMS truck:1 <last-id>
// repeat this until you want to stop

```

## Questions

1. How we get the length of a stream?
2. What is the format of an autogenerated stream id?
3. How to get the full content of a given stream?

```

```
